<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel • Whitelist</title>

  <!-- CSP -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; base-uri 'none';
                 connect-src 'self' https://*.supabase.co https://script.google.com https://script.googleusercontent.com;
                 img-src 'self' data:; font-src 'self' data:;
                 style-src 'self' 'unsafe-inline';
                 script-src 'self' https://esm.sh https://script.google.com https://script.googleusercontent.com;
                 script-src-elem 'self' https://esm.sh https://script.google.com https://script.googleusercontent.com;
                 upgrade-insecure-requests">

  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body class="no-select admin">
  <!-- ===== Sidebar ===== -->
  <aside class="sidebar">
    <h2 class="logo">Inferno</h2>
    <nav>
      <ul>
        <li><a href="#" class="active">Whitelist</a></li>
        <!-- Tambahkan menu lain di sini jika perlu -->
      </ul>
    </nav>
  </aside>

  <!-- ===== Main panel ===== -->
  <div class="panel">
    <header class="topbar">
      <h1>Home</h1>
      <div class="spacer" style="flex:1"></div>
      <button id="btn-logout" class="btn-outline">Keluar</button>
    </header>

    <main class="container">
      <section class="card">
        <header class="card-head" style="display:flex;align-items:center;gap:.8rem;">
          <h2 style="flex:1">Whitelist</h2>
          <button id="btn-open-modal" class="btn">Buat Whitelist</button>
          <button id="btn-reload" class="btn-outline">Muat Ulang</button>
          <small id="source-indicator" class="muted"></small>
        </header>

        <div id="table-wrap" class="table-wrap">
          <table class="table" id="whitelist-table" aria-describedby="table-desc">
            <caption id="table-desc" class="visually-hidden">Tabel data whitelist</caption>
            <thead>
              <tr>
                <th>UserID</th>
                <th>Angka</th>
                <th>1/0</th>
                <th>Nama</th>
                <th>Dibuat</th>
              </tr>
            </thead>
            <tbody id="whitelist-body">
              <tr><td colspan="5" class="muted center">Memuat data…</td></tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>
  </div>

  <!-- ===== Modal ===== -->
  <dialog id="modal" class="modal">
    <form id="form-create" method="dialog">
      <h3 class="modal-title">Buat Whitelist</h3>

      <label class="field">
        <span class="field-label">UserID (A)</span>
        <input id="f-userid" name="userid" type="text" required />
      </label>

      <label class="field">
        <span class="field-label">Angka (B)</span>
        <input id="f-angka" name="angka" type="number" required inputmode="numeric" />
      </label>

      <label class="field">
        <span class="field-label">Boolean 1/0 (C)</span>
        <select id="f-flag" name="flag" required>
          <option value="1">1</option>
          <option value="0">0</option>
        </select>
      </label>

      <label class="field">
        <span class="field-label">Nama (D)</span>
        <input id="f-nama" name="nama" type="text" required />
      </label>

      <div class="modal-actions">
        <button value="cancel" class="btn-outline" type="button" id="btn-cancel">Batal</button>
        <button value="default" class="btn" type="submit">Simpan</button>
      </div>

      <div id="create-state" class="state" role="status" aria-live="polite"></div>
    </form>
  </dialog>

  <script type="module" src="js/admin.js"></script>
</body>
</html>